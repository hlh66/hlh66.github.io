<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ä¸ªäººä¸»é¡µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        /* å¤´éƒ¨åŒºåŸŸ */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        /* è‡ªæˆ‘ä»‹ç» */
        .intro-section {
            padding: 40px;
            background: #f8f9fa;
        }
        
        .intro-section h2 {
            color: #333;
            font-size: 28px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }
        
        .intro-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            line-height: 1.8;
            color: #555;
        }
        
        .edit-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
            transition: background 0.3s;
        }
        
        .edit-btn:hover {
            background: #5568d3;
        }
        
        /* åŠ±å¿—åè¨€ */
        .quote-section {
            padding: 40px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            text-align: center;
        }
        
        .quote-content {
            font-size: 24px;
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .quote-author {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .refresh-quote {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .refresh-quote:hover {
            background: white;
            color: #f5576c;
        }
        
        /* å¯¼èˆªåŒºåŸŸ */
        .nav-section {
            padding: 40px;
        }
        
        .nav-section h2 {
            color: #333;
            font-size: 28px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 30px;
            color: white;
            text-decoration: none;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }
        
        .card h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .card p {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.5;
        }
        
        .card-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }
        
        /* ç¬”è®°åŒºåŸŸ */
        .notes-section {
            padding: 40px;
            background: #f8f9fa;
        }
        
        .notes-section h2 {
            color: #333;
            font-size: 28px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }
        
        .notes-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .note-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .note-item:last-child {
            border-bottom: none;
        }
        
        .note-content {
            flex: 1;
            padding-right: 15px;
        }
        
        .note-date {
            font-size: 12px;
            color: #999;
            margin-bottom: 5px;
        }
        
        .note-text {
            color: #333;
            line-height: 1.5;
        }
        
        .add-note-form {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        
        .add-note-form input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .add-note-form input:focus {
            border-color: #667eea;
        }
        
        .add-note-form button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .add-note-form button:hover {
            background: #5568d3;
        }
        
        /* ç¼–è¾‘å™¨ */
        .editor {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .editor.active {
            display: flex;
        }
        
        .editor-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .editor h3 {
            margin-bottom: 20px;
            color: #333;
        }
        
        .editor textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            outline: none;
            font-family: inherit;
            margin-bottom: 20px;
        }
        
        .editor textarea:focus {
            border-color: #667eea;
        }
        
        .editor-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .editor-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }
        
        .editor-buttons .save {
            background: #28a745;
            color: white;
        }
        
        .editor-buttons .cancel {
            background: #6c757d;
            color: white;
        }
        
        /* å¯¼èˆªé“¾æ¥ç¼–è¾‘å™¨ */
        .nav-link-editor {
            margin-bottom: 15px;
        }
        
        .nav-link-editor .form-group {
            margin-bottom: 10px;
        }
        
        .nav-link-editor label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        .nav-link-editor input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            outline: none;
        }
        
        .nav-link-editor input:focus {
            border-color: #667eea;
        }
        
        .nav-link-editor .remove-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }
        
        .nav-link-editor .remove-btn:hover {
            background: #c82333;
        }
        
        .add-nav-link {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .add-nav-link:hover {
            background: #5568d3;
        }
        
        /* é¡µè„š */
        .footer {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            color: #999;
            font-size: 14px;
            border-top: 1px solid #eee;
        }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 28px;
            }
            
            .quote-content {
                font-size: 20px;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .add-note-form {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>ğŸ‘‹ æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µ</h1>
            <p>ä¸€ä¸ªå……æ»¡åˆ›æ„å’Œçµæ„Ÿçš„ç©ºé—´</p>
        </div>
        
        <!-- è‡ªæˆ‘ä»‹ç» -->
        <div class="intro-section">
            <h2>ğŸ’« å…³äºæˆ‘ <button class="edit-btn" onclick="editIntro()">âœï¸ ç¼–è¾‘</button></h2>
            <div class="intro-content" id="introContent">
                ä½ å¥½ï¼æˆ‘æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯å’Œç”Ÿæ´»çš„äººã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°æˆ‘çš„å„ç§é¡¹ç›®ã€ç¬”è®°å’Œåˆ›æ„ä½œå“ã€‚æˆ‘çƒ­è¡·äºæ¢ç´¢æ–°æŠ€æœ¯ï¼Œå–œæ¬¢åˆ†äº«çŸ¥è¯†å’Œç»éªŒã€‚å¸Œæœ›è¿™ä¸ªå°å°çš„ç½‘ç»œç©ºé—´èƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¯å‘å’Œå¸®åŠ©ï¼
            </div>
        </div>
        
        <!-- åŠ±å¿—åè¨€ -->
        <div class="quote-section">
            <div class="quote-content" id="quoteContent">"æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¹Ÿéæœ«æ—¥ï¼Œæœ€é‡è¦çš„æ˜¯ç»§ç»­å‰è¿›çš„å‹‡æ°”ã€‚"</div>
            <div class="quote-author" id="quoteAuthor">â€” æ¸©æ–¯é¡¿Â·ä¸˜å‰å°”</div>
            <button class="refresh-quote" onclick="newQuote()">ğŸ”„ æ¢ä¸€å¥</button>
        </div>
        
        <!-- å¯¼èˆªåŒºåŸŸ -->
        <div class="nav-section">
            <h2>ğŸ“‚ å¿«é€Ÿå¯¼èˆª <button class="edit-btn" onclick="editNavLinks()">âœï¸ ç¼–è¾‘</button></h2>
            <div class="card-grid" id="navLinks">
                <div class="card" onclick="window.open('https://c80e164044d919d0-120-235-87-206.serveousercontent.com')">
                    <div class="card-icon">ğŸŒ</div>
                    <h3>å†…ç½‘ç©¿é€</h3>
                    <p>è¿œç¨‹è®¿é—®æˆ‘çš„è®¾å¤‡</p>
                </div>
            </div>
        </div>
        
        <!-- ç¬”è®°åŒºåŸŸ -->
        <div class="notes-section">
            <h2>ğŸ“š æˆ‘çš„ç¬”è®°</h2>
            <div class="notes-container">
                <div id="notesList">
                    <div class="note-item">
                        <div class="note-content">
                            <div class="note-date">2026-01-24</div>
                            <div class="note-text">ä»Šå¤©å®Œæˆäº†ä¸ªäººä¸»é¡µçš„æ­å»ºï¼ŒåŒ…å«äº†è‡ªæˆ‘ä»‹ç»ã€å¯¼èˆªå’ŒåŠ±å¿—åè¨€åŠŸèƒ½ã€‚</div>
                        </div>
                    </div>
                </div>
                
                <div class="add-note-form">
                    <input type="text" id="newNoteInput" placeholder="å†™ç‚¹ä»€ä¹ˆ...">
                    <button onclick="addNote()">â• æ·»åŠ ç¬”è®°</button>
                </div>
            </div>
        </div>
        
        <!-- é¡µè„š -->
        <div class="footer">
            <p>Â© 2026 æˆ‘çš„ä¸ªäººä¸»é¡µ | æœ€åæ›´æ–°: <span id="lastUpdate"></span></p>
        </div>
    </div>
    
    <!-- ç¼–è¾‘å™¨ -->
    <div class="editor" id="editor">
        <div class="editor-content">
            <h3>âœï¸ ç¼–è¾‘å†…å®¹</h3>
            <textarea id="editorTextarea" placeholder="è¾“å…¥å†…å®¹..."></textarea>
            <div class="editor-buttons">
                <button class="cancel" onclick="closeEditor()">å–æ¶ˆ</button>
                <button class="save" onclick="saveContent()">ä¿å­˜</button>
            </div>
        </div>
    </div>
    
    <!-- å¯¼èˆªé“¾æ¥ç¼–è¾‘å™¨ -->
    <div class="editor" id="navEditor">
        <div class="editor-content">
            <h3>âœï¸ ç¼–è¾‘å¿«é€Ÿå¯¼èˆª</h3>
            <div id="navLinksEditor"></div>
            <button class="add-nav-link" onclick="addNavLink()">â• æ·»åŠ é“¾æ¥</button>
            <div class="editor-buttons">
                <button class="cancel" onclick="closeNavEditor()">å–æ¶ˆ</button>
                <button class="save" onclick="saveNavLinks()">ä¿å­˜</button>
            </div>
        </div>
    </div>
    
    <script>
        // åŠ±å¿—åè¨€åº“
        const quotes = [
            { text: "æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¹Ÿéæœ«æ—¥ï¼Œæœ€é‡è¦çš„æ˜¯ç»§ç»­å‰è¿›çš„å‹‡æ°”ã€‚", author: "æ¸©æ–¯é¡¿Â·ä¸˜å‰å°”" },
            { text: "The only way to do great work is to love what you do.", author: "å²è’‚å¤«Â·ä¹”å¸ƒæ–¯" },
            { text: "Believe you can and you're halfway there.", author: "è¥¿å¥¥å¤šÂ·ç½—æ–¯ç¦" },
            { text: "The future belongs to those who believe in the beauty of their dreams.", author: "åŸƒè‰è¯ºÂ·ç½—æ–¯ç¦" },
            { text: "It does not matter how slowly you go as long as you do not stop.", author: "å­”å­" },
            { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "æ¸©æ–¯é¡¿Â·ä¸˜å‰å°”" },
            { text: "The only impossible journey is the one you never begin.", author: "æ‰˜å°¼Â·ç½—å®¾æ–¯" },
            { text: "What lies behind us and what lies before us are tiny matters compared to what lies within us.", author: "æ‹‰å°”å¤«Â·æ²ƒå°”å¤šÂ·çˆ±é»˜ç”Ÿ" },
            { text: "Your time is limited, don't waste it living someone else's life.", author: "å²è’‚å¤«Â·ä¹”å¸ƒæ–¯" },
            { text: "The best way to predict the future is to create it.", author: "å½¼å¾—Â·å¾·é²å…‹" }
        ];
        
        // åŠ è½½ä¿å­˜çš„å†…å®¹
        async function loadContent() {
            try {
                // ä»åç«¯åŠ è½½æ•°æ®
                const response = await fetch('/api/data');
                const data = await response.json();
                
                // åŠ è½½è‡ªæˆ‘ä»‹ç»
                if (data.introContent) {
                    document.getElementById('introContent').textContent = data.introContent;
                }
                
                // åŠ è½½ç¬”è®°
                if (data.myNotes) {
                    renderNotes(data.myNotes);
                }
                
                // åŠ è½½å¯¼èˆªé“¾æ¥
                if (data.navLinks) {
                    renderNavLinks(data.navLinks);
                } else {
                    // é»˜è®¤å¯¼èˆªé“¾æ¥
                    const defaultLinks = [
                        { icon: 'ğŸ®', title: 'æ¸¸æˆå¨±ä¹', desc: 'XNKLæ¸¸æˆå’Œå¨±ä¹é¡¹ç›®', url: '/xnkl/' },
                        { icon: 'ğŸ“¹', title: 'æ‘„åƒå¤´è§†é¢‘', desc: 'ç›‘æ§å½•åƒæ–‡ä»¶æŸ¥çœ‹', url: '/camera_video/' },
                        { icon: 'ğŸ“', title: 'æˆ‘çš„ç¬”è®°', desc: 'åœ¨çº¿ç¬”è®°ç¼–è¾‘å™¨', url: '/chat_notes/notes/' },
                        { icon: 'ğŸ’»', title: 'Webç»ˆç«¯', desc: 'åœ¨çº¿å‘½ä»¤æ‰§è¡Œç»ˆç«¯', url: '/term/' },
                        { icon: 'ğŸ”—', title: 'Giteeä»“åº“', desc: 'æˆ‘çš„ä»£ç å’Œæ–‡æ¡£', url: 'https://gitee.com/alin489/my-notes' }
                    ];
                    renderNavLinks(defaultLinks);
                }
                
                // æ›´æ–°æ—¶é—´
                if (data.lastUpdate) {
                    document.getElementById('lastUpdate').textContent = new Date(data.lastUpdate).toLocaleString('zh-CN');
                } else {
                    document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
                }
            } catch (error) {
                console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
                // å¦‚æœåç«¯å¤±è´¥ï¼Œå°è¯•ä»localStorageåŠ è½½
                const savedIntro = localStorage.getItem('introContent');
                if (savedIntro) {
                    document.getElementById('introContent').textContent = savedIntro;
                }
                
                const savedNotes = localStorage.getItem('myNotes');
                if (savedNotes) {
                    const notes = JSON.parse(savedNotes);
                    renderNotes(notes);
                }
                
                const savedNavLinks = localStorage.getItem('navLinks');
                if (savedNavLinks) {
                    renderNavLinks(JSON.parse(savedNavLinks));
                } else {
                    const defaultLinks = [
                        { icon: 'ğŸ®', title: 'æ¸¸æˆå¨±ä¹', desc: 'XNKLæ¸¸æˆå’Œå¨±ä¹é¡¹ç›®', url: '/xnkl/' },
                        { icon: 'ğŸ“¹', title: 'æ‘„åƒå¤´è§†é¢‘', desc: 'ç›‘æ§å½•åƒæ–‡ä»¶æŸ¥çœ‹', url: '/camera_video/' },
                        { icon: 'ğŸ“', title: 'æˆ‘çš„ç¬”è®°', desc: 'åœ¨çº¿ç¬”è®°ç¼–è¾‘å™¨', url: '/chat_notes/notes/' },
                        { icon: 'ğŸ’»', title: 'Webç»ˆç«¯', desc: 'åœ¨çº¿å‘½ä»¤æ‰§è¡Œç»ˆç«¯', url: '/term/' },
                        { icon: 'ğŸ”—', title: 'Giteeä»“åº“', desc: 'æˆ‘çš„ä»£ç å’Œæ–‡æ¡£', url: 'https://gitee.com/alin489/my-notes' }
                    ];
                    renderNavLinks(defaultLinks);
                }
                
                document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
            }
        }
        
        // æ¸²æŸ“å¯¼èˆªé“¾æ¥
        function renderNavLinks(links) {
            const navLinksContainer = document.getElementById('navLinks');
            navLinksContainer.innerHTML = '';
            
            links.forEach(link => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = function() {
                    if (link.url.startsWith('http')) {
                        window.open(link.url);
                    } else {
                        window.location.href = link.url;
                    }
                };
                card.innerHTML = `
                    <div class="card-icon">${link.icon}</div>
                    <h3>${link.title}</h3>
                    <p>${link.desc}</p>
                `;
                navLinksContainer.appendChild(card);
            });
        }
        
        // ç¼–è¾‘å¯¼èˆªé“¾æ¥
        function editNavLinks() {
            const navLinksContainer = document.getElementById('navLinks');
            const cards = navLinksContainer.querySelectorAll('.card');
            
            const editorContainer = document.getElementById('navLinksEditor');
            editorContainer.innerHTML = '';
            
            cards.forEach((card, index) => {
                const icon = card.querySelector('.card-icon').textContent;
                const title = card.querySelector('h3').textContent;
                const desc = card.querySelector('p').textContent;
                
                const linkEditor = document.createElement('div');
                linkEditor.className = 'nav-link-editor';
                linkEditor.innerHTML = `
                    <div class="form-group">
                        <label>å›¾æ ‡</label>
                        <input type="text" class="nav-icon" value="${icon}" placeholder="ä¾‹å¦‚: ğŸ®">
                    </div>
                    <div class="form-group">
                        <label>æ ‡é¢˜</label>
                        <input type="text" class="nav-title" value="${title}" placeholder="ä¾‹å¦‚: æ¸¸æˆå¨±ä¹">
                    </div>
                    <div class="form-group">
                        <label>æè¿°</label>
                        <input type="text" class="nav-desc" value="${desc}" placeholder="ä¾‹å¦‚: XNKLæ¸¸æˆå’Œå¨±ä¹é¡¹ç›®">
                    </div>
                    <div class="form-group">
                        <label>é“¾æ¥</label>
                        <input type="text" class="nav-url" value="" placeholder="ä¾‹å¦‚: /xnkl/ æˆ– https://example.com">
                    </div>
                    <button class="remove-btn" onclick="this.parentElement.remove()">åˆ é™¤</button>
                `;
                editorContainer.appendChild(linkEditor);
            });
            
            document.getElementById('navEditor').classList.add('active');
        }
        
        // æ·»åŠ å¯¼èˆªé“¾æ¥
        function addNavLink() {
            const editorContainer = document.getElementById('navLinksEditor');
            const linkEditor = document.createElement('div');
            linkEditor.className = 'nav-link-editor';
            linkEditor.innerHTML = `
                <div class="form-group">
                    <label>å›¾æ ‡</label>
                    <input type="text" class="nav-icon" value="ğŸ”—" placeholder="ä¾‹å¦‚: ğŸ®">
                </div>
                <div class="form-group">
                    <label>æ ‡é¢˜</label>
                    <input type="text" class="nav-title" value="" placeholder="ä¾‹å¦‚: æ¸¸æˆå¨±ä¹">
                </div>
                <div class="form-group">
                    <label>æè¿°</label>
                    <input type="text" class="nav-desc" value="" placeholder="ä¾‹å¦‚: XNKLæ¸¸æˆå’Œå¨±ä¹é¡¹ç›®">
                </div>
                <div class="form-group">
                    <label>é“¾æ¥</label>
                    <input type="text" class="nav-url" value="" placeholder="ä¾‹å¦‚: /xnkl/ æˆ– https://example.com">
                </div>
                <button class="remove-btn" onclick="this.parentElement.remove()">åˆ é™¤</button>
            `;
            editorContainer.appendChild(linkEditor);
        }
        
        // å…³é—­å¯¼èˆªç¼–è¾‘å™¨
        function closeNavEditor() {
            document.getElementById('navEditor').classList.remove('active');
        }
        
        // ä¿å­˜å¯¼èˆªé“¾æ¥
        async function saveNavLinks() {
            const linkEditors = document.querySelectorAll('.nav-link-editor');
            const links = [];
            
            linkEditors.forEach(editor => {
                const icon = editor.querySelector('.nav-icon').value;
                const title = editor.querySelector('.nav-title').value;
                const desc = editor.querySelector('.nav-desc').value;
                const url = editor.querySelector('.nav-url').value;
                
                if (title && url) {
                    links.push({ icon, title, desc, url });
                }
            });
            
            try {
                // ä¿å­˜åˆ°åç«¯
                const response = await fetch('/api/navlinks', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ navLinks: links })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    renderNavLinks(links);
                    closeNavEditor();
                    alert('ä¿å­˜æˆåŠŸï¼');
                } else {
                    alert('ä¿å­˜å¤±è´¥ï¼š' + result.message);
                }
            } catch (error) {
                console.error('ä¿å­˜å¤±è´¥:', error);
                // å¦‚æœåç«¯å¤±è´¥ï¼Œä¿å­˜åˆ°localStorage
                localStorage.setItem('navLinks', JSON.stringify(links));
                renderNavLinks(links);
                closeNavEditor();
                alert('å·²ä¿å­˜åˆ°æœ¬åœ°ï¼ˆåç«¯è¿æ¥å¤±è´¥ï¼‰');
            }
            
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
        }
        
        // æ–°çš„åŠ±å¿—åè¨€
        function newQuote() {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            const quote = quotes[randomIndex];
            document.getElementById('quoteContent').textContent = `"${quote.text}"`;
            document.getElementById('quoteAuthor').textContent = `â€” ${quote.author}`;
        }
        
        // ç¼–è¾‘è‡ªæˆ‘ä»‹ç»
        function editIntro() {
            const content = document.getElementById('introContent').textContent;
            document.getElementById('editorTextarea').value = content;
            document.getElementById('editor').classList.add('active');
            currentEditType = 'intro';
        }
        
        // å…³é—­ç¼–è¾‘å™¨
        function closeEditor() {
            document.getElementById('editor').classList.remove('active');
        }
        
        // ä¿å­˜å†…å®¹
        async function saveContent() {
            const content = document.getElementById('editorTextarea').value;
            
            if (currentEditType === 'intro') {
                document.getElementById('introContent').textContent = content;
                
                try {
                    // ä¿å­˜åˆ°åç«¯
                    const response = await fetch('/api/intro', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ content: content })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        // åŒæ—¶ä¿å­˜åˆ°localStorageä½œä¸ºå¤‡ä»½
                        localStorage.setItem('introContent', content);
                        alert('ä¿å­˜æˆåŠŸï¼');
                    } else {
                        alert('ä¿å­˜å¤±è´¥ï¼š' + result.message);
                    }
                } catch (error) {
                    console.error('ä¿å­˜å¤±è´¥:', error);
                    // å¦‚æœåç«¯å¤±è´¥ï¼Œä¿å­˜åˆ°localStorage
                    localStorage.setItem('introContent', content);
                    alert('å·²ä¿å­˜åˆ°æœ¬åœ°ï¼ˆåç«¯è¿æ¥å¤±è´¥ï¼‰');
                }
            }
            
            closeEditor();
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
        }
        
        // æ¸²æŸ“ç¬”è®°
        function renderNotes(notes) {
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';
            
            notes.forEach(note => {
                const noteItem = document.createElement('div');
                noteItem.className = 'note-item';
                noteItem.innerHTML = `
                    <div class="note-content">
                        <div class="note-date">${note.date}</div>
                        <div class="note-text">${note.text}</div>
                    </div>
                    <button onclick="deleteNote(${note.id})" style="background:#dc3545;color:white;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;">åˆ é™¤</button>
                `;
                notesList.appendChild(noteItem);
            });
        }
        
        // æ·»åŠ ç¬”è®°
        async function addNote() {
            const input = document.getElementById('newNoteInput');
            const text = input.value.trim();
            
            if (!text) return;
            
            try {
                // ä¿å­˜åˆ°åç«¯
                const response = await fetch('/api/notes', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ text: text })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // é‡æ–°åŠ è½½ç¬”è®°
                    await loadContent();
                    input.value = '';
                } else {
                    alert('æ·»åŠ å¤±è´¥ï¼š' + result.message);
                }
            } catch (error) {
                console.error('æ·»åŠ å¤±è´¥:', error);
                // å¦‚æœåç«¯å¤±è´¥ï¼Œä¿å­˜åˆ°localStorage
                const notes = JSON.parse(localStorage.getItem('myNotes') || '[]');
                const newNote = {
                    id: Date.now(),
                    text: text,
                    date: new Date().toLocaleDateString('zh-CN')
                };
                
                notes.unshift(newNote);
                localStorage.setItem('myNotes', JSON.stringify(notes));
                
                renderNotes(notes);
                input.value = '';
                alert('å·²ä¿å­˜åˆ°æœ¬åœ°ï¼ˆåç«¯è¿æ¥å¤±è´¥ï¼‰');
            }
            
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
        }
        
        // åˆ é™¤ç¬”è®°
        async function deleteNote(id) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡ç¬”è®°å—ï¼Ÿ')) return;
            
            try {
                // ä»åç«¯åˆ é™¤
                const response = await fetch('/api/notes', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ id: id })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // é‡æ–°åŠ è½½ç¬”è®°
                    await loadContent();
                } else {
                    alert('åˆ é™¤å¤±è´¥ï¼š' + result.message);
                }
            } catch (error) {
                console.error('åˆ é™¤å¤±è´¥:', error);
                // å¦‚æœåç«¯å¤±è´¥ï¼Œä»localStorageåˆ é™¤
                let notes = JSON.parse(localStorage.getItem('myNotes') || '[]');
                notes = notes.filter(note => note.id !== id);
                localStorage.setItem('myNotes', JSON.stringify(notes));
                
                renderNotes(notes);
                alert('å·²ä»æœ¬åœ°åˆ é™¤ï¼ˆåç«¯è¿æ¥å¤±è´¥ï¼‰');
            }
            
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('zh-CN');
        }
        
        let currentEditType = '';
        
        // åˆå§‹åŒ–
        loadContent();
        
        // æŒ‰Enteré”®æ·»åŠ ç¬”è®°
        document.getElementById('newNoteInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addNote();
            }
        });
    </script>
</body>
</html>